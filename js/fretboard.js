var F=0,F_=0,G=0,C=0,C_=0,D=0,G_=0,A=0,A_=0,D_=0,E=0,Fd=0,A_a=0,B=0,Ca=0,f=0,f_=0,g=0,a_chord=0,g_chord=0,c_chord=0,d_chord=0,e_chord=0,f_chord=0,logEvents=!1,tpCache=new Array;function enableLog(e){logEvents=!logEvents}function log(e,t,r){var a=document.getElementsByTagName("output")[0],n=e+": touches = "+t.touches.length+" ; targetTouches = "+t.targetTouches.length+" ; changedTouches = "+t.changedTouches.length;if(a.innerHTML+=n+" <br>",r){n="";for(var c=0;c<t.targetTouches.length;c++)n+="... id = "+t.targetTouches[c].identifier+" <br>";a.innerHTML+=n}}function clearLog(e){document.getElementsByTagName("output")[0].innerHTML=""}function update_background(e){switch(e.targetTouches.length){case 1:e.target.style.background="yellow";break;case 2:e.target.style.background="pink";break;default:e.target.style.background="lightblue"}}function handle_pinch_zoom(e){if(2==e.targetTouches.length&&2==e.changedTouches.length){for(var t=-1,r=-1,a=0;a<tpCache.length;a++)tpCache[a].identifier==e.targetTouches[0].identifier&&(t=a),tpCache[a].identifier==e.targetTouches[1].identifier&&(r=a);if(t>=0&&r>=0){var n=Math.abs(tpCache[t].clientX-e.targetTouches[0].clientX),c=Math.abs(tpCache[r].clientX-e.targetTouches[1].clientX),h=e.target.clientWidth/10;n>=h&&c>=h&&(e.target.style.background="green")}else tpCache=new Array}}function start_handler(e){if(e.preventDefault(),2==e.targetTouches.length)for(var t=0;t<e.targetTouches.length;t++)tpCache.push(e.targetTouches[t]);switch(logEvents&&log("touchStart",e,!0),update_background(e),e.target.id){case"F":return F=1;case"F_":return F_=1;case"G":return G=1;case"C":return C=1;case"C_":return C_=1;case"D":return D=1;case"G_":return G_=1;case"A":return A=1;case"A_":return A_=1;case"D_":return D_=1;case"E":return E=1;case"Fd":return Fd=1;case"A_a":return A_a=1;case"B":return B=1;case"Ca":return Ca=1;case"f":return f=1;case"f_":return f_=1;case"g":return g=1;case"a_chord":return a_chord=1;case"g_chord":return g_chord=1;case"c_chord":return c_chord=1;case"d_chord":return d_chord=1;case"e_chord":return e_chord=1;case"f_chord":return f_chord=1}}function move_handler(e){e.preventDefault(),logEvents&&log("touchMove",e,!1),2==e.touches.length&&2==e.targetTouches.length||update_background(e),handle_pinch_zoom(e)}function end_handler(e){e.preventDefault(),logEvents&&log(e.type,e,!1),0==e.targetTouches.length&&(e.target.style.background="gray",e.target.style.border="1px solid black",F=0,F_=0,G=0,C=0,C_=0,D=0,G_=0,A=0,A_=0,D_=0,E=0,Fd=0,A_a=0,B=0,Ca=0,f=0,f_=0,g=0,a_chord=0,c_chord=0,d_chord=0,e_chord=0,f_chord=0,g_chord=0)}function set_handlers(e){var t=document.getElementById(e);t.ontouchstart=start_handler,t.ontouchmove=move_handler,t.ontouchcancel=end_handler,t.ontouchend=end_handler}function init(){set_handlers("F"),set_handlers("F_"),set_handlers("G"),set_handlers("C"),set_handlers("C_"),set_handlers("D"),set_handlers("G_"),set_handlers("A"),set_handlers("A_"),set_handlers("D_"),set_handlers("E"),set_handlers("Fd"),set_handlers("A_a"),set_handlers("B"),set_handlers("Ca"),set_handlers("f"),set_handlers("f_"),set_handlers("g"),set_handlers("a_chord"),set_handlers("g_chord"),set_handlers("c_chord"),set_handlers("d_chord"),set_handlers("e_chord"),set_handlers("f_chord")}
